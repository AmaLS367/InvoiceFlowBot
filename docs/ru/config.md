<img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&customColorList=12,16,20&height=120&section=header&text=–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è&fontSize=40&animation=fadeIn"/>

<div align="center">

[![dotenv](https://img.shields.io/badge/.env-Configuration-blue?style=for-the-badge)](https://github.com/theskumar/python-dotenv)
[![pydantic](https://img.shields.io/badge/Pydantic-Settings-green?style=for-the-badge&logo=pydantic)](https://docs.pydantic.dev/)
[![Variables](https://img.shields.io/badge/Env%20Vars-11-orange?style=for-the-badge)](#–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)

</div>

## üìã –û –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ InvoiceFlowBot –ø–æ—Å—Ç—É–ø–∞—é—Ç –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `config.py` –∑–∞–≥—Ä—É–∂–∞–µ—Ç `.env` –∏ —Å—á–∏—Ç—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `os.getenv`, –ø–æ—ç—Ç–æ–º—É –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

> [!IMPORTANT]
> –ë–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–æ—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è!

## üîë –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| --- | --- | --- | --- |
| `BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π Aiogram –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è | –°—Ç—Ä–æ–∫–∞ –∏–∑ @BotFather | –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –±–æ—Ç –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç |
| `MINDEE_API_KEY` | –ö–ª—é—á Mindee API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–∏—Å—É OCR | –ö–ª—é—á API –∏–∑ –∫–∞–±–∏–Ω–µ—Ç–∞ Mindee (https://platform.mindee.com/) | –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –±–æ—Ç –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç |
| `MINDEE_MODEL_ID` | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–æ–¥–µ–ª–∏ Mindee, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∏–Ω–≤–æ–π—Å–æ–≤ | ID –º–æ–¥–µ–ª–∏ –∏–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã Mindee (–Ω–∞–ø—Ä–∏–º–µ—Ä, `mindee/invoices/v4` –∏–ª–∏ UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –º–æ–¥–µ–ª–∏) | –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –±–æ—Ç –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç |

–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã. –ï—Å–ª–∏ –æ–Ω–∏ –Ω–µ –∑–∞–¥–∞–Ω—ã, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∏—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å –ø–æ–Ω—è—Ç–Ω–æ–π –æ—à–∏–±–∫–æ–π.

## –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| --- | --- | --- | --- |
| `INVOICE_DB_PATH` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É SQLite —Å –¥–∞–Ω–Ω—ã–º–∏ | –õ—é–±–æ–π –≤–∞–ª–∏–¥–Ω—ã–π –ø—É—Ç—å –Ω–∞ —Ö–æ—Å—Ç–µ –∏–ª–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ | `data.sqlite` |
| `LOG_LEVEL` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –ª–æ–≥–≥–µ—Ä–∞) | `DEBUG`, `INFO`, `WARNING`, `ERROR`, `CRITICAL` | `INFO` |
| `LOG_ROTATE_MB` | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ª–æ–≥–∞ –¥–æ —Ä–æ—Ç–∞—Ü–∏–∏ | –¶–µ–ª–æ–µ —á–∏—Å–ª–æ –º–µ–≥–∞–±–∞–π—Ç | `10` |
| `LOG_BACKUPS` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ—Ç–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–æ–ø–∏–π –ª–æ–≥–æ–≤ | –¶–µ–ª–æ–µ —á–∏—Å–ª–æ | `5` |
| `LOG_CONSOLE` | –í—ã–≤–æ–¥–∏—Ç—å –ª–∏ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å | `0` –∏–ª–∏ `1` (–∞ —Ç–∞–∫–∂–µ `true`/`True`) | `0` |
| `LOG_DIR` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É –ª–æ–≥–æ–≤ | –°—Ç—Ä–æ–∫–∞ —Å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º –ø—É—Ç–µ–º | `logs` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ |

–ï—Å–ª–∏ `LOG_DIR` –Ω–µ –∑–∞–¥–∞–Ω, `ocr/engine/util.py` —Å–æ–∑–¥–∞—Å—Ç –∫–∞—Ç–∞–ª–æ–≥ `logs/` —Ä—è–¥–æ–º —Å –∏—Å—Ö–æ–¥–Ω–∏–∫–∞–º–∏ –∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `ocr_engine.log`, `errors.log`, `router.log`, `extract.log`.

## –†–∞–±–æ—Ç–∞ —Å `.env`

- –î–µ—Ä–∂–∏—Ç–µ `.env` –≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π. –§–∞–π–ª `.env.example` —Å–ª—É–∂–∏—Ç —à–∞–±–ª–æ–Ω–æ–º –∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤.
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `.env` –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å. –í Docker –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ `docker-compose up -d` –∏–ª–∏ `docker-compose restart`.
- –î–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π (dev, staging, prod) –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã `.env` —Å –Ω—É–∂–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ –ø—É—Ç—è–º–∏ –∫ –±–∞–∑–µ.
